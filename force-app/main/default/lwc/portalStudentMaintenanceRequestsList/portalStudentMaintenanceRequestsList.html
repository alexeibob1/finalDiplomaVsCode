<template>
    <template if:true={error}>
        <div class="slds-text-color_error slds-m-around_medium">
            ⚠ {error}
        </div>
    </template>

    <template if:true={requests.length}>
        <lightning-datatable
            key-field="Id"
            data={requests}
            columns={columns}
            hide-checkbox-column
            class="custom-datatable"
            resize-column-disabled>
        </lightning-datatable>

        <div class="slds-m-top_medium slds-text-align_center">
            <lightning-button 
                label="Назад" 
                onclick={handlePrevious} 
                disabled={isFirstPage}>
            </lightning-button>
            <span class="slds-m-horizontal_small">Страница {currentPage} из {totalPages}</span>
            <lightning-button 
                label="Вперёд" 
                onclick={handleNext} 
                disabled={isLastPage}>
            </lightning-button>
        </div>
    </template>

    <template if:false={requests.length}>
        <p class="slds-text-align_center slds-m-top_medium">Заявок на ремонт пока нет.</p>
    </template>
</template>
